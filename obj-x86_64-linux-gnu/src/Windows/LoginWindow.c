/* LoginWindow.c generated by valac 0.26.1.9-22126, the Vala compiler
 * generated from LoginWindow.vala, do not modify */


#include <glib.h>
#include <glib-object.h>
#include <gtk/gtk.h>
#include <webkit2/webkit2.h>
#include <stdlib.h>
#include <string.h>
#include <libsoup/soup.h>


#define PHOTO_STREAM_TYPE_LOGIN_WINDOW (photo_stream_login_window_get_type ())
#define PHOTO_STREAM_LOGIN_WINDOW(obj) (G_TYPE_CHECK_INSTANCE_CAST ((obj), PHOTO_STREAM_TYPE_LOGIN_WINDOW, PhotoStreamLoginWindow))
#define PHOTO_STREAM_LOGIN_WINDOW_CLASS(klass) (G_TYPE_CHECK_CLASS_CAST ((klass), PHOTO_STREAM_TYPE_LOGIN_WINDOW, PhotoStreamLoginWindowClass))
#define PHOTO_STREAM_IS_LOGIN_WINDOW(obj) (G_TYPE_CHECK_INSTANCE_TYPE ((obj), PHOTO_STREAM_TYPE_LOGIN_WINDOW))
#define PHOTO_STREAM_IS_LOGIN_WINDOW_CLASS(klass) (G_TYPE_CHECK_CLASS_TYPE ((klass), PHOTO_STREAM_TYPE_LOGIN_WINDOW))
#define PHOTO_STREAM_LOGIN_WINDOW_GET_CLASS(obj) (G_TYPE_INSTANCE_GET_CLASS ((obj), PHOTO_STREAM_TYPE_LOGIN_WINDOW, PhotoStreamLoginWindowClass))

typedef struct _PhotoStreamLoginWindow PhotoStreamLoginWindow;
typedef struct _PhotoStreamLoginWindowClass PhotoStreamLoginWindowClass;
typedef struct _PhotoStreamLoginWindowPrivate PhotoStreamLoginWindowPrivate;
#define _g_object_unref0(var) ((var == NULL) ? NULL : (var = (g_object_unref (var), NULL)))
#define _g_free0(var) (var = (g_free (var), NULL))
typedef struct _Block50Data Block50Data;
#define _g_thread_unref0(var) ((var == NULL) ? NULL : (var = (g_thread_unref (var), NULL)))
typedef struct _Block51Data Block51Data;
#define _g_error_free0(var) ((var == NULL) ? NULL : (var = (g_error_free (var), NULL)))

struct _PhotoStreamLoginWindow {
	GtkApplicationWindow parent_instance;
	PhotoStreamLoginWindowPrivate * priv;
	GtkSpinner* spinner;
	GtkBox* box;
	GtkScrolledWindow* scrolledWindow;
};

struct _PhotoStreamLoginWindowClass {
	GtkApplicationWindowClass parent_class;
};

struct _PhotoStreamLoginWindowPrivate {
	WebKitWebView* webView;
	gchar* HOST;
};

struct _Block50Data {
	int _ref_count_;
	PhotoStreamLoginWindow* self;
	gchar* uri;
};

struct _Block51Data {
	int _ref_count_;
	PhotoStreamLoginWindow* self;
	gchar* token;
};


static gpointer photo_stream_login_window_parent_class = NULL;
extern gchar* photo_stream_app_CACHE_URL;

GType photo_stream_login_window_get_type (void) G_GNUC_CONST;
#define PHOTO_STREAM_LOGIN_WINDOW_GET_PRIVATE(o) (G_TYPE_INSTANCE_GET_PRIVATE ((o), PHOTO_STREAM_TYPE_LOGIN_WINDOW, PhotoStreamLoginWindowPrivate))
enum  {
	PHOTO_STREAM_LOGIN_WINDOW_DUMMY_PROPERTY
};
#define PHOTO_STREAM_LOGIN_WINDOW_INSTAGRAM_LOGIN "https://instagram.com/accounts/login/"
#define PHOTO_STREAM_APP_CLIENT_ID "e139a947d6de45a88297366282c27137"
#define PHOTO_STREAM_APP_REDIRECT_URI "http://www.google.com/photostream"
#define PHOTO_STREAM_LOGIN_WINDOW_INSTAGRAM_AUTH "https://api.instagram.com/oauth/authorize/?client_id=" PHOTO_STREAM_APP_CLIENT_ID "&redirect_uri=" PHOTO_STREAM_APP_REDIRECT_URI "&scope=basic+comments+relationships+likes" "&response_type=code"
#define PHOTO_STREAM_LOGIN_WINDOW_WRONG_LOGIN_PATTERN "Your username or password was incorrect."
PhotoStreamLoginWindow* photo_stream_login_window_new (void);
PhotoStreamLoginWindow* photo_stream_login_window_construct (GType object_type);
gchar* photo_stream_login_window_getHost (PhotoStreamLoginWindow* self, const gchar* uri);
static void __lambda4_ (PhotoStreamLoginWindow* self, WebKitLoadEvent loadEvent);
static Block50Data* block50_data_ref (Block50Data* _data50_);
static void block50_data_unref (void * _userdata_);
static gint ___lambda5_ (Block50Data* _data50_);
void photo_stream_login_window_confirmToken (PhotoStreamLoginWindow* self, const gchar* uri);
static gpointer ____lambda5__gthread_func (gpointer self);
static void ___lambda4__webkit_web_view_load_changed (WebKitWebView* _sender, WebKitLoadEvent load_event, gpointer self);
static void __lambda7_ (PhotoStreamLoginWindow* self);
static void ___lambda7__gtk_widget_show (GtkWidget* _sender, gpointer self);
gchar* photo_stream_login_window_getCode (PhotoStreamLoginWindow* self, const gchar* uri);
static Block51Data* block51_data_ref (Block51Data* _data51_);
static void block51_data_unref (void * _userdata_);
#define PHOTO_STREAM_APP_CLIENT_SECRET "4b54aac105534413b6885c2c48bcaa66"
static guint8* _vala_array_dup12 (guint8* self, int length);
static guint8* _vala_array_dup13 (guint8* self, int length);
gchar* parseToken (const gchar* responce, GError** error);
static gboolean __lambda6_ (Block51Data* _data51_);
void setToken (const gchar* token);
static gboolean ___lambda6__gsource_func (gpointer self);
static void photo_stream_login_window_finalize (GObject* obj);


static Block50Data* block50_data_ref (Block50Data* _data50_) {
#line 41 "/all/Documents/Programming/vala/photostream/src/Windows/LoginWindow.vala"
	g_atomic_int_inc (&_data50_->_ref_count_);
#line 41 "/all/Documents/Programming/vala/photostream/src/Windows/LoginWindow.vala"
	return _data50_;
#line 105 "LoginWindow.c"
}


static void block50_data_unref (void * _userdata_) {
	Block50Data* _data50_;
	_data50_ = (Block50Data*) _userdata_;
#line 41 "/all/Documents/Programming/vala/photostream/src/Windows/LoginWindow.vala"
	if (g_atomic_int_dec_and_test (&_data50_->_ref_count_)) {
#line 114 "LoginWindow.c"
		PhotoStreamLoginWindow* self;
#line 41 "/all/Documents/Programming/vala/photostream/src/Windows/LoginWindow.vala"
		self = _data50_->self;
#line 41 "/all/Documents/Programming/vala/photostream/src/Windows/LoginWindow.vala"
		_g_free0 (_data50_->uri);
#line 41 "/all/Documents/Programming/vala/photostream/src/Windows/LoginWindow.vala"
		_g_object_unref0 (self);
#line 41 "/all/Documents/Programming/vala/photostream/src/Windows/LoginWindow.vala"
		g_slice_free (Block50Data, _data50_);
#line 124 "LoginWindow.c"
	}
}


static gint ___lambda5_ (Block50Data* _data50_) {
	PhotoStreamLoginWindow* self;
	gint result = 0;
	const gchar* _tmp0_ = NULL;
#line 68 "/all/Documents/Programming/vala/photostream/src/Windows/LoginWindow.vala"
	self = _data50_->self;
#line 69 "/all/Documents/Programming/vala/photostream/src/Windows/LoginWindow.vala"
	_tmp0_ = _data50_->uri;
#line 69 "/all/Documents/Programming/vala/photostream/src/Windows/LoginWindow.vala"
	photo_stream_login_window_confirmToken (self, _tmp0_);
#line 70 "/all/Documents/Programming/vala/photostream/src/Windows/LoginWindow.vala"
	result = 0;
#line 70 "/all/Documents/Programming/vala/photostream/src/Windows/LoginWindow.vala"
	return result;
#line 143 "LoginWindow.c"
}


static gpointer ____lambda5__gthread_func (gpointer self) {
	gpointer result;
	result = (gpointer) ((gintptr) ___lambda5_ (self));
#line 68 "/all/Documents/Programming/vala/photostream/src/Windows/LoginWindow.vala"
	block50_data_unref (self);
#line 68 "/all/Documents/Programming/vala/photostream/src/Windows/LoginWindow.vala"
	return result;
#line 154 "LoginWindow.c"
}


static void __lambda4_ (PhotoStreamLoginWindow* self, WebKitLoadEvent loadEvent) {
	Block50Data* _data50_;
	WebKitWebView* _tmp0_ = NULL;
	const gchar* _tmp1_ = NULL;
	gchar* _tmp2_ = NULL;
	gchar* host = NULL;
	const gchar* _tmp3_ = NULL;
	gchar* _tmp4_ = NULL;
	WebKitLoadEvent _tmp5_ = 0;
	const gchar* _tmp7_ = NULL;
	const gchar* _tmp8_ = NULL;
#line 41 "/all/Documents/Programming/vala/photostream/src/Windows/LoginWindow.vala"
	_data50_ = g_slice_new0 (Block50Data);
#line 41 "/all/Documents/Programming/vala/photostream/src/Windows/LoginWindow.vala"
	_data50_->_ref_count_ = 1;
#line 41 "/all/Documents/Programming/vala/photostream/src/Windows/LoginWindow.vala"
	_data50_->self = g_object_ref (self);
#line 43 "/all/Documents/Programming/vala/photostream/src/Windows/LoginWindow.vala"
	_tmp0_ = self->priv->webView;
#line 43 "/all/Documents/Programming/vala/photostream/src/Windows/LoginWindow.vala"
	_tmp1_ = webkit_web_view_get_uri (_tmp0_);
#line 43 "/all/Documents/Programming/vala/photostream/src/Windows/LoginWindow.vala"
	_tmp2_ = g_strdup (_tmp1_);
#line 43 "/all/Documents/Programming/vala/photostream/src/Windows/LoginWindow.vala"
	_data50_->uri = _tmp2_;
#line 44 "/all/Documents/Programming/vala/photostream/src/Windows/LoginWindow.vala"
	_tmp3_ = _data50_->uri;
#line 44 "/all/Documents/Programming/vala/photostream/src/Windows/LoginWindow.vala"
	_tmp4_ = photo_stream_login_window_getHost (self, _tmp3_);
#line 44 "/all/Documents/Programming/vala/photostream/src/Windows/LoginWindow.vala"
	host = _tmp4_;
#line 46 "/all/Documents/Programming/vala/photostream/src/Windows/LoginWindow.vala"
	_tmp5_ = loadEvent;
#line 46 "/all/Documents/Programming/vala/photostream/src/Windows/LoginWindow.vala"
	if (_tmp5_ == WEBKIT_LOAD_STARTED) {
#line 52 "/all/Documents/Programming/vala/photostream/src/Windows/LoginWindow.vala"
		_g_free0 (host);
#line 52 "/all/Documents/Programming/vala/photostream/src/Windows/LoginWindow.vala"
		block50_data_unref (_data50_);
#line 52 "/all/Documents/Programming/vala/photostream/src/Windows/LoginWindow.vala"
		_data50_ = NULL;
#line 52 "/all/Documents/Programming/vala/photostream/src/Windows/LoginWindow.vala"
		return;
#line 201 "LoginWindow.c"
	} else {
		WebKitLoadEvent _tmp6_ = 0;
#line 55 "/all/Documents/Programming/vala/photostream/src/Windows/LoginWindow.vala"
		_tmp6_ = loadEvent;
#line 55 "/all/Documents/Programming/vala/photostream/src/Windows/LoginWindow.vala"
		if (_tmp6_ != WEBKIT_LOAD_FINISHED) {
#line 56 "/all/Documents/Programming/vala/photostream/src/Windows/LoginWindow.vala"
			_g_free0 (host);
#line 56 "/all/Documents/Programming/vala/photostream/src/Windows/LoginWindow.vala"
			block50_data_unref (_data50_);
#line 56 "/all/Documents/Programming/vala/photostream/src/Windows/LoginWindow.vala"
			_data50_ = NULL;
#line 56 "/all/Documents/Programming/vala/photostream/src/Windows/LoginWindow.vala"
			return;
#line 216 "LoginWindow.c"
		}
	}
#line 58 "/all/Documents/Programming/vala/photostream/src/Windows/LoginWindow.vala"
	_tmp7_ = host;
#line 58 "/all/Documents/Programming/vala/photostream/src/Windows/LoginWindow.vala"
	_tmp8_ = self->priv->HOST;
#line 58 "/all/Documents/Programming/vala/photostream/src/Windows/LoginWindow.vala"
	if (g_strcmp0 (_tmp7_, _tmp8_) == 0) {
#line 225 "LoginWindow.c"
		GtkSpinner* _tmp9_ = NULL;
		GtkSpinner* _tmp10_ = NULL;
		GtkBox* _tmp11_ = NULL;
		GtkScrolledWindow* _tmp12_ = NULL;
		GtkBox* _tmp13_ = NULL;
		GtkSpinner* _tmp14_ = NULL;
		GThread* _tmp15_ = NULL;
		GThread* _tmp16_ = NULL;
#line 60 "/all/Documents/Programming/vala/photostream/src/Windows/LoginWindow.vala"
		_tmp9_ = (GtkSpinner*) gtk_spinner_new ();
#line 60 "/all/Documents/Programming/vala/photostream/src/Windows/LoginWindow.vala"
		g_object_ref_sink (_tmp9_);
#line 60 "/all/Documents/Programming/vala/photostream/src/Windows/LoginWindow.vala"
		_g_object_unref0 (self->spinner);
#line 60 "/all/Documents/Programming/vala/photostream/src/Windows/LoginWindow.vala"
		self->spinner = _tmp9_;
#line 61 "/all/Documents/Programming/vala/photostream/src/Windows/LoginWindow.vala"
		_tmp10_ = self->spinner;
#line 61 "/all/Documents/Programming/vala/photostream/src/Windows/LoginWindow.vala"
		gtk_spinner_start (_tmp10_);
#line 63 "/all/Documents/Programming/vala/photostream/src/Windows/LoginWindow.vala"
		_tmp11_ = self->box;
#line 63 "/all/Documents/Programming/vala/photostream/src/Windows/LoginWindow.vala"
		_tmp12_ = self->scrolledWindow;
#line 63 "/all/Documents/Programming/vala/photostream/src/Windows/LoginWindow.vala"
		gtk_container_remove ((GtkContainer*) _tmp11_, (GtkWidget*) _tmp12_);
#line 64 "/all/Documents/Programming/vala/photostream/src/Windows/LoginWindow.vala"
		_tmp13_ = self->box;
#line 64 "/all/Documents/Programming/vala/photostream/src/Windows/LoginWindow.vala"
		_tmp14_ = self->spinner;
#line 64 "/all/Documents/Programming/vala/photostream/src/Windows/LoginWindow.vala"
		gtk_box_pack_start (_tmp13_, (GtkWidget*) _tmp14_, TRUE, TRUE, (guint) 0);
#line 66 "/all/Documents/Programming/vala/photostream/src/Windows/LoginWindow.vala"
		gtk_widget_show_all ((GtkWidget*) self);
#line 68 "/all/Documents/Programming/vala/photostream/src/Windows/LoginWindow.vala"
		_tmp15_ = g_thread_new ("", ____lambda5__gthread_func, block50_data_ref (_data50_));
#line 68 "/all/Documents/Programming/vala/photostream/src/Windows/LoginWindow.vala"
		_tmp16_ = _tmp15_;
#line 68 "/all/Documents/Programming/vala/photostream/src/Windows/LoginWindow.vala"
		_g_thread_unref0 (_tmp16_);
#line 266 "LoginWindow.c"
	}
#line 41 "/all/Documents/Programming/vala/photostream/src/Windows/LoginWindow.vala"
	_g_free0 (host);
#line 41 "/all/Documents/Programming/vala/photostream/src/Windows/LoginWindow.vala"
	block50_data_unref (_data50_);
#line 41 "/all/Documents/Programming/vala/photostream/src/Windows/LoginWindow.vala"
	_data50_ = NULL;
#line 274 "LoginWindow.c"
}


static void ___lambda4__webkit_web_view_load_changed (WebKitWebView* _sender, WebKitLoadEvent load_event, gpointer self) {
#line 41 "/all/Documents/Programming/vala/photostream/src/Windows/LoginWindow.vala"
	__lambda4_ ((PhotoStreamLoginWindow*) self, load_event);
#line 281 "LoginWindow.c"
}


static void __lambda7_ (PhotoStreamLoginWindow* self) {
	WebKitWebView* _tmp0_ = NULL;
#line 76 "/all/Documents/Programming/vala/photostream/src/Windows/LoginWindow.vala"
	_tmp0_ = self->priv->webView;
#line 76 "/all/Documents/Programming/vala/photostream/src/Windows/LoginWindow.vala"
	webkit_web_view_load_uri (_tmp0_, PHOTO_STREAM_LOGIN_WINDOW_INSTAGRAM_AUTH);
#line 291 "LoginWindow.c"
}


static void ___lambda7__gtk_widget_show (GtkWidget* _sender, gpointer self) {
#line 75 "/all/Documents/Programming/vala/photostream/src/Windows/LoginWindow.vala"
	__lambda7_ ((PhotoStreamLoginWindow*) self);
#line 298 "LoginWindow.c"
}


PhotoStreamLoginWindow* photo_stream_login_window_construct (GType object_type) {
	PhotoStreamLoginWindow * self = NULL;
	gchar* _tmp0_ = NULL;
	WebKitWebView* _tmp1_ = NULL;
	WebKitWebView* _tmp2_ = NULL;
	WebKitWebContext* _tmp3_ = NULL;
	WebKitWebContext* _tmp4_ = NULL;
	WebKitWebContext* _tmp5_ = NULL;
	WebKitCookieManager* _tmp6_ = NULL;
	const gchar* _tmp7_ = NULL;
	gchar* _tmp8_ = NULL;
	gchar* _tmp9_ = NULL;
	WebKitWebView* _tmp10_ = NULL;
	WebKitSettings* _tmp11_ = NULL;
	WebKitWebView* _tmp12_ = NULL;
	WebKitSettings* _tmp13_ = NULL;
	WebKitWebView* _tmp14_ = NULL;
	WebKitSettings* _tmp15_ = NULL;
	WebKitWebView* _tmp16_ = NULL;
	GtkScrolledWindow* _tmp17_ = NULL;
	GtkScrolledWindow* _tmp18_ = NULL;
	GtkScrolledWindow* _tmp19_ = NULL;
	WebKitWebView* _tmp20_ = NULL;
	GtkBox* _tmp21_ = NULL;
	GtkBox* _tmp22_ = NULL;
	GtkScrolledWindow* _tmp23_ = NULL;
	GtkBox* _tmp24_ = NULL;
#line 22 "/all/Documents/Programming/vala/photostream/src/Windows/LoginWindow.vala"
	self = (PhotoStreamLoginWindow*) g_object_new (object_type, NULL);
#line 24 "/all/Documents/Programming/vala/photostream/src/Windows/LoginWindow.vala"
	gtk_window_set_default_size ((GtkWindow*) self, 800, 700);
#line 25 "/all/Documents/Programming/vala/photostream/src/Windows/LoginWindow.vala"
	gtk_widget_set_size_request ((GtkWidget*) self, 800, 700);
#line 26 "/all/Documents/Programming/vala/photostream/src/Windows/LoginWindow.vala"
	gtk_window_set_resizable ((GtkWindow*) self, FALSE);
#line 28 "/all/Documents/Programming/vala/photostream/src/Windows/LoginWindow.vala"
	_tmp0_ = photo_stream_login_window_getHost (self, PHOTO_STREAM_APP_REDIRECT_URI);
#line 28 "/all/Documents/Programming/vala/photostream/src/Windows/LoginWindow.vala"
	_g_free0 (self->priv->HOST);
#line 28 "/all/Documents/Programming/vala/photostream/src/Windows/LoginWindow.vala"
	self->priv->HOST = _tmp0_;
#line 30 "/all/Documents/Programming/vala/photostream/src/Windows/LoginWindow.vala"
	_tmp1_ = (WebKitWebView*) webkit_web_view_new ();
#line 30 "/all/Documents/Programming/vala/photostream/src/Windows/LoginWindow.vala"
	g_object_ref_sink (_tmp1_);
#line 30 "/all/Documents/Programming/vala/photostream/src/Windows/LoginWindow.vala"
	_g_object_unref0 (self->priv->webView);
#line 30 "/all/Documents/Programming/vala/photostream/src/Windows/LoginWindow.vala"
	self->priv->webView = _tmp1_;
#line 31 "/all/Documents/Programming/vala/photostream/src/Windows/LoginWindow.vala"
	_tmp2_ = self->priv->webView;
#line 31 "/all/Documents/Programming/vala/photostream/src/Windows/LoginWindow.vala"
	g_object_get (_tmp2_, "web-context", &_tmp3_, NULL);
#line 31 "/all/Documents/Programming/vala/photostream/src/Windows/LoginWindow.vala"
	_tmp4_ = _tmp3_;
#line 31 "/all/Documents/Programming/vala/photostream/src/Windows/LoginWindow.vala"
	_tmp5_ = _tmp4_;
#line 31 "/all/Documents/Programming/vala/photostream/src/Windows/LoginWindow.vala"
	_tmp6_ = webkit_web_context_get_cookie_manager (_tmp5_);
#line 31 "/all/Documents/Programming/vala/photostream/src/Windows/LoginWindow.vala"
	_tmp7_ = photo_stream_app_CACHE_URL;
#line 31 "/all/Documents/Programming/vala/photostream/src/Windows/LoginWindow.vala"
	_tmp8_ = g_strconcat (_tmp7_, "cookie.txt", NULL);
#line 31 "/all/Documents/Programming/vala/photostream/src/Windows/LoginWindow.vala"
	_tmp9_ = _tmp8_;
#line 31 "/all/Documents/Programming/vala/photostream/src/Windows/LoginWindow.vala"
	webkit_cookie_manager_set_persistent_storage (_tmp6_, _tmp9_, WEBKIT_COOKIE_PERSISTENT_STORAGE_TEXT);
#line 31 "/all/Documents/Programming/vala/photostream/src/Windows/LoginWindow.vala"
	_g_free0 (_tmp9_);
#line 31 "/all/Documents/Programming/vala/photostream/src/Windows/LoginWindow.vala"
	_g_object_unref0 (_tmp5_);
#line 33 "/all/Documents/Programming/vala/photostream/src/Windows/LoginWindow.vala"
	_tmp10_ = self->priv->webView;
#line 33 "/all/Documents/Programming/vala/photostream/src/Windows/LoginWindow.vala"
	_tmp11_ = webkit_web_view_get_settings (_tmp10_);
#line 33 "/all/Documents/Programming/vala/photostream/src/Windows/LoginWindow.vala"
	webkit_settings_set_enable_accelerated_2d_canvas (_tmp11_, TRUE);
#line 34 "/all/Documents/Programming/vala/photostream/src/Windows/LoginWindow.vala"
	_tmp12_ = self->priv->webView;
#line 34 "/all/Documents/Programming/vala/photostream/src/Windows/LoginWindow.vala"
	_tmp13_ = webkit_web_view_get_settings (_tmp12_);
#line 34 "/all/Documents/Programming/vala/photostream/src/Windows/LoginWindow.vala"
	webkit_settings_set_enable_webgl (_tmp13_, TRUE);
#line 35 "/all/Documents/Programming/vala/photostream/src/Windows/LoginWindow.vala"
	_tmp14_ = self->priv->webView;
#line 35 "/all/Documents/Programming/vala/photostream/src/Windows/LoginWindow.vala"
	_tmp15_ = webkit_web_view_get_settings (_tmp14_);
#line 35 "/all/Documents/Programming/vala/photostream/src/Windows/LoginWindow.vala"
	webkit_settings_set_enable_write_console_messages_to_stdout (_tmp15_, TRUE);
#line 37 "/all/Documents/Programming/vala/photostream/src/Windows/LoginWindow.vala"
	gtk_window_set_title ((GtkWindow*) self, "Login to Instagram");
#line 39 "/all/Documents/Programming/vala/photostream/src/Windows/LoginWindow.vala"
	g_print ("Using WebKit version %d.%d.%d\n", WEBKIT_MAJOR_VERSION, WEBKIT_MINOR_VERSION, WEBKIT_MICRO_VERSION);
#line 41 "/all/Documents/Programming/vala/photostream/src/Windows/LoginWindow.vala"
	_tmp16_ = self->priv->webView;
#line 41 "/all/Documents/Programming/vala/photostream/src/Windows/LoginWindow.vala"
	g_signal_connect_object (_tmp16_, "load-changed", (GCallback) ___lambda4__webkit_web_view_load_changed, self, 0);
#line 75 "/all/Documents/Programming/vala/photostream/src/Windows/LoginWindow.vala"
	g_signal_connect_object ((GtkWidget*) self, "show", (GCallback) ___lambda7__gtk_widget_show, self, 0);
#line 79 "/all/Documents/Programming/vala/photostream/src/Windows/LoginWindow.vala"
	_tmp17_ = (GtkScrolledWindow*) gtk_scrolled_window_new (NULL, NULL);
#line 79 "/all/Documents/Programming/vala/photostream/src/Windows/LoginWindow.vala"
	g_object_ref_sink (_tmp17_);
#line 79 "/all/Documents/Programming/vala/photostream/src/Windows/LoginWindow.vala"
	_g_object_unref0 (self->scrolledWindow);
#line 79 "/all/Documents/Programming/vala/photostream/src/Windows/LoginWindow.vala"
	self->scrolledWindow = _tmp17_;
#line 80 "/all/Documents/Programming/vala/photostream/src/Windows/LoginWindow.vala"
	_tmp18_ = self->scrolledWindow;
#line 80 "/all/Documents/Programming/vala/photostream/src/Windows/LoginWindow.vala"
	gtk_scrolled_window_set_policy (_tmp18_, GTK_POLICY_AUTOMATIC, GTK_POLICY_AUTOMATIC);
#line 81 "/all/Documents/Programming/vala/photostream/src/Windows/LoginWindow.vala"
	_tmp19_ = self->scrolledWindow;
#line 81 "/all/Documents/Programming/vala/photostream/src/Windows/LoginWindow.vala"
	_tmp20_ = self->priv->webView;
#line 81 "/all/Documents/Programming/vala/photostream/src/Windows/LoginWindow.vala"
	gtk_container_add ((GtkContainer*) _tmp19_, (GtkWidget*) _tmp20_);
#line 83 "/all/Documents/Programming/vala/photostream/src/Windows/LoginWindow.vala"
	_tmp21_ = (GtkBox*) gtk_box_new (GTK_ORIENTATION_VERTICAL, 0);
#line 83 "/all/Documents/Programming/vala/photostream/src/Windows/LoginWindow.vala"
	g_object_ref_sink (_tmp21_);
#line 83 "/all/Documents/Programming/vala/photostream/src/Windows/LoginWindow.vala"
	_g_object_unref0 (self->box);
#line 83 "/all/Documents/Programming/vala/photostream/src/Windows/LoginWindow.vala"
	self->box = _tmp21_;
#line 84 "/all/Documents/Programming/vala/photostream/src/Windows/LoginWindow.vala"
	_tmp22_ = self->box;
#line 84 "/all/Documents/Programming/vala/photostream/src/Windows/LoginWindow.vala"
	_tmp23_ = self->scrolledWindow;
#line 84 "/all/Documents/Programming/vala/photostream/src/Windows/LoginWindow.vala"
	gtk_box_pack_start (_tmp22_, (GtkWidget*) _tmp23_, TRUE, TRUE, (guint) 0);
#line 85 "/all/Documents/Programming/vala/photostream/src/Windows/LoginWindow.vala"
	_tmp24_ = self->box;
#line 85 "/all/Documents/Programming/vala/photostream/src/Windows/LoginWindow.vala"
	gtk_container_add ((GtkContainer*) self, (GtkWidget*) _tmp24_);
#line 22 "/all/Documents/Programming/vala/photostream/src/Windows/LoginWindow.vala"
	return self;
#line 439 "LoginWindow.c"
}


PhotoStreamLoginWindow* photo_stream_login_window_new (void) {
#line 22 "/all/Documents/Programming/vala/photostream/src/Windows/LoginWindow.vala"
	return photo_stream_login_window_construct (PHOTO_STREAM_TYPE_LOGIN_WINDOW);
#line 446 "LoginWindow.c"
}


static gint string_index_of (const gchar* self, const gchar* needle, gint start_index) {
	gint result = 0;
	gchar* _result_ = NULL;
	gint _tmp0_ = 0;
	const gchar* _tmp1_ = NULL;
	gchar* _tmp2_ = NULL;
	gchar* _tmp3_ = NULL;
#line 900 "/usr/share/vala-0.26/vapi/glib-2.0.vapi"
	g_return_val_if_fail (self != NULL, 0);
#line 900 "/usr/share/vala-0.26/vapi/glib-2.0.vapi"
	g_return_val_if_fail (needle != NULL, 0);
#line 901 "/usr/share/vala-0.26/vapi/glib-2.0.vapi"
	_tmp0_ = start_index;
#line 901 "/usr/share/vala-0.26/vapi/glib-2.0.vapi"
	_tmp1_ = needle;
#line 901 "/usr/share/vala-0.26/vapi/glib-2.0.vapi"
	_tmp2_ = strstr (((gchar*) self) + _tmp0_, (gchar*) _tmp1_);
#line 901 "/usr/share/vala-0.26/vapi/glib-2.0.vapi"
	_result_ = _tmp2_;
#line 903 "/usr/share/vala-0.26/vapi/glib-2.0.vapi"
	_tmp3_ = _result_;
#line 903 "/usr/share/vala-0.26/vapi/glib-2.0.vapi"
	if (_tmp3_ != NULL) {
#line 473 "LoginWindow.c"
		gchar* _tmp4_ = NULL;
#line 904 "/usr/share/vala-0.26/vapi/glib-2.0.vapi"
		_tmp4_ = _result_;
#line 904 "/usr/share/vala-0.26/vapi/glib-2.0.vapi"
		result = (gint) (_tmp4_ - ((gchar*) self));
#line 904 "/usr/share/vala-0.26/vapi/glib-2.0.vapi"
		return result;
#line 481 "LoginWindow.c"
	} else {
#line 906 "/usr/share/vala-0.26/vapi/glib-2.0.vapi"
		result = -1;
#line 906 "/usr/share/vala-0.26/vapi/glib-2.0.vapi"
		return result;
#line 487 "LoginWindow.c"
	}
}


static glong string_strnlen (gchar* str, glong maxlen) {
	glong result = 0L;
	gchar* end = NULL;
	gchar* _tmp0_ = NULL;
	glong _tmp1_ = 0L;
	gchar* _tmp2_ = NULL;
	gchar* _tmp3_ = NULL;
#line 1197 "/usr/share/vala-0.26/vapi/glib-2.0.vapi"
	_tmp0_ = str;
#line 1197 "/usr/share/vala-0.26/vapi/glib-2.0.vapi"
	_tmp1_ = maxlen;
#line 1197 "/usr/share/vala-0.26/vapi/glib-2.0.vapi"
	_tmp2_ = memchr (_tmp0_, 0, (gsize) _tmp1_);
#line 1197 "/usr/share/vala-0.26/vapi/glib-2.0.vapi"
	end = _tmp2_;
#line 1198 "/usr/share/vala-0.26/vapi/glib-2.0.vapi"
	_tmp3_ = end;
#line 1198 "/usr/share/vala-0.26/vapi/glib-2.0.vapi"
	if (_tmp3_ == NULL) {
#line 511 "LoginWindow.c"
		glong _tmp4_ = 0L;
#line 1199 "/usr/share/vala-0.26/vapi/glib-2.0.vapi"
		_tmp4_ = maxlen;
#line 1199 "/usr/share/vala-0.26/vapi/glib-2.0.vapi"
		result = _tmp4_;
#line 1199 "/usr/share/vala-0.26/vapi/glib-2.0.vapi"
		return result;
#line 519 "LoginWindow.c"
	} else {
		gchar* _tmp5_ = NULL;
		gchar* _tmp6_ = NULL;
#line 1201 "/usr/share/vala-0.26/vapi/glib-2.0.vapi"
		_tmp5_ = end;
#line 1201 "/usr/share/vala-0.26/vapi/glib-2.0.vapi"
		_tmp6_ = str;
#line 1201 "/usr/share/vala-0.26/vapi/glib-2.0.vapi"
		result = (glong) (_tmp5_ - _tmp6_);
#line 1201 "/usr/share/vala-0.26/vapi/glib-2.0.vapi"
		return result;
#line 531 "LoginWindow.c"
	}
}


static gchar* string_substring (const gchar* self, glong offset, glong len) {
	gchar* result = NULL;
	glong string_length = 0L;
	gboolean _tmp0_ = FALSE;
	glong _tmp1_ = 0L;
	glong _tmp8_ = 0L;
	glong _tmp14_ = 0L;
	glong _tmp17_ = 0L;
	glong _tmp18_ = 0L;
	glong _tmp19_ = 0L;
	glong _tmp20_ = 0L;
	glong _tmp21_ = 0L;
	gchar* _tmp22_ = NULL;
#line 1208 "/usr/share/vala-0.26/vapi/glib-2.0.vapi"
	g_return_val_if_fail (self != NULL, NULL);
#line 1210 "/usr/share/vala-0.26/vapi/glib-2.0.vapi"
	_tmp1_ = offset;
#line 1210 "/usr/share/vala-0.26/vapi/glib-2.0.vapi"
	if (_tmp1_ >= ((glong) 0)) {
#line 555 "LoginWindow.c"
		glong _tmp2_ = 0L;
#line 1210 "/usr/share/vala-0.26/vapi/glib-2.0.vapi"
		_tmp2_ = len;
#line 1210 "/usr/share/vala-0.26/vapi/glib-2.0.vapi"
		_tmp0_ = _tmp2_ >= ((glong) 0);
#line 561 "LoginWindow.c"
	} else {
#line 1210 "/usr/share/vala-0.26/vapi/glib-2.0.vapi"
		_tmp0_ = FALSE;
#line 565 "LoginWindow.c"
	}
#line 1210 "/usr/share/vala-0.26/vapi/glib-2.0.vapi"
	if (_tmp0_) {
#line 569 "LoginWindow.c"
		glong _tmp3_ = 0L;
		glong _tmp4_ = 0L;
		glong _tmp5_ = 0L;
#line 1212 "/usr/share/vala-0.26/vapi/glib-2.0.vapi"
		_tmp3_ = offset;
#line 1212 "/usr/share/vala-0.26/vapi/glib-2.0.vapi"
		_tmp4_ = len;
#line 1212 "/usr/share/vala-0.26/vapi/glib-2.0.vapi"
		_tmp5_ = string_strnlen ((gchar*) self, _tmp3_ + _tmp4_);
#line 1212 "/usr/share/vala-0.26/vapi/glib-2.0.vapi"
		string_length = _tmp5_;
#line 581 "LoginWindow.c"
	} else {
		gint _tmp6_ = 0;
		gint _tmp7_ = 0;
#line 1214 "/usr/share/vala-0.26/vapi/glib-2.0.vapi"
		_tmp6_ = strlen (self);
#line 1214 "/usr/share/vala-0.26/vapi/glib-2.0.vapi"
		_tmp7_ = _tmp6_;
#line 1214 "/usr/share/vala-0.26/vapi/glib-2.0.vapi"
		string_length = (glong) _tmp7_;
#line 591 "LoginWindow.c"
	}
#line 1217 "/usr/share/vala-0.26/vapi/glib-2.0.vapi"
	_tmp8_ = offset;
#line 1217 "/usr/share/vala-0.26/vapi/glib-2.0.vapi"
	if (_tmp8_ < ((glong) 0)) {
#line 597 "LoginWindow.c"
		glong _tmp9_ = 0L;
		glong _tmp10_ = 0L;
		glong _tmp11_ = 0L;
#line 1218 "/usr/share/vala-0.26/vapi/glib-2.0.vapi"
		_tmp9_ = string_length;
#line 1218 "/usr/share/vala-0.26/vapi/glib-2.0.vapi"
		_tmp10_ = offset;
#line 1218 "/usr/share/vala-0.26/vapi/glib-2.0.vapi"
		offset = _tmp9_ + _tmp10_;
#line 1219 "/usr/share/vala-0.26/vapi/glib-2.0.vapi"
		_tmp11_ = offset;
#line 1219 "/usr/share/vala-0.26/vapi/glib-2.0.vapi"
		g_return_val_if_fail (_tmp11_ >= ((glong) 0), NULL);
#line 611 "LoginWindow.c"
	} else {
		glong _tmp12_ = 0L;
		glong _tmp13_ = 0L;
#line 1221 "/usr/share/vala-0.26/vapi/glib-2.0.vapi"
		_tmp12_ = offset;
#line 1221 "/usr/share/vala-0.26/vapi/glib-2.0.vapi"
		_tmp13_ = string_length;
#line 1221 "/usr/share/vala-0.26/vapi/glib-2.0.vapi"
		g_return_val_if_fail (_tmp12_ <= _tmp13_, NULL);
#line 621 "LoginWindow.c"
	}
#line 1223 "/usr/share/vala-0.26/vapi/glib-2.0.vapi"
	_tmp14_ = len;
#line 1223 "/usr/share/vala-0.26/vapi/glib-2.0.vapi"
	if (_tmp14_ < ((glong) 0)) {
#line 627 "LoginWindow.c"
		glong _tmp15_ = 0L;
		glong _tmp16_ = 0L;
#line 1224 "/usr/share/vala-0.26/vapi/glib-2.0.vapi"
		_tmp15_ = string_length;
#line 1224 "/usr/share/vala-0.26/vapi/glib-2.0.vapi"
		_tmp16_ = offset;
#line 1224 "/usr/share/vala-0.26/vapi/glib-2.0.vapi"
		len = _tmp15_ - _tmp16_;
#line 636 "LoginWindow.c"
	}
#line 1226 "/usr/share/vala-0.26/vapi/glib-2.0.vapi"
	_tmp17_ = offset;
#line 1226 "/usr/share/vala-0.26/vapi/glib-2.0.vapi"
	_tmp18_ = len;
#line 1226 "/usr/share/vala-0.26/vapi/glib-2.0.vapi"
	_tmp19_ = string_length;
#line 1226 "/usr/share/vala-0.26/vapi/glib-2.0.vapi"
	g_return_val_if_fail ((_tmp17_ + _tmp18_) <= _tmp19_, NULL);
#line 1227 "/usr/share/vala-0.26/vapi/glib-2.0.vapi"
	_tmp20_ = offset;
#line 1227 "/usr/share/vala-0.26/vapi/glib-2.0.vapi"
	_tmp21_ = len;
#line 1227 "/usr/share/vala-0.26/vapi/glib-2.0.vapi"
	_tmp22_ = g_strndup (((gchar*) self) + _tmp20_, (gsize) _tmp21_);
#line 1227 "/usr/share/vala-0.26/vapi/glib-2.0.vapi"
	result = _tmp22_;
#line 1227 "/usr/share/vala-0.26/vapi/glib-2.0.vapi"
	return result;
#line 656 "LoginWindow.c"
}


gchar* photo_stream_login_window_getHost (PhotoStreamLoginWindow* self, const gchar* uri) {
	gchar* result = NULL;
	gint indexStart = 0;
	const gchar* _tmp0_ = NULL;
	gint _tmp1_ = 0;
	gint indexEnd = 0;
	const gchar* _tmp2_ = NULL;
	gint _tmp3_ = 0;
	const gchar* _tmp4_ = NULL;
	gchar* _tmp5_ = NULL;
#line 87 "/all/Documents/Programming/vala/photostream/src/Windows/LoginWindow.vala"
	g_return_val_if_fail (self != NULL, NULL);
#line 87 "/all/Documents/Programming/vala/photostream/src/Windows/LoginWindow.vala"
	g_return_val_if_fail (uri != NULL, NULL);
#line 89 "/all/Documents/Programming/vala/photostream/src/Windows/LoginWindow.vala"
	_tmp0_ = uri;
#line 89 "/all/Documents/Programming/vala/photostream/src/Windows/LoginWindow.vala"
	_tmp1_ = string_index_of (_tmp0_, "//", 0);
#line 89 "/all/Documents/Programming/vala/photostream/src/Windows/LoginWindow.vala"
	indexStart = _tmp1_ + 2;
#line 90 "/all/Documents/Programming/vala/photostream/src/Windows/LoginWindow.vala"
	_tmp2_ = uri;
#line 90 "/all/Documents/Programming/vala/photostream/src/Windows/LoginWindow.vala"
	_tmp3_ = string_index_of (_tmp2_, "/", 8);
#line 90 "/all/Documents/Programming/vala/photostream/src/Windows/LoginWindow.vala"
	indexEnd = _tmp3_;
#line 91 "/all/Documents/Programming/vala/photostream/src/Windows/LoginWindow.vala"
	_tmp4_ = uri;
#line 91 "/all/Documents/Programming/vala/photostream/src/Windows/LoginWindow.vala"
	_tmp5_ = string_substring (_tmp4_, (glong) indexStart, (glong) (indexEnd - indexStart));
#line 91 "/all/Documents/Programming/vala/photostream/src/Windows/LoginWindow.vala"
	result = _tmp5_;
#line 91 "/all/Documents/Programming/vala/photostream/src/Windows/LoginWindow.vala"
	return result;
#line 694 "LoginWindow.c"
}


gchar* photo_stream_login_window_getCode (PhotoStreamLoginWindow* self, const gchar* uri) {
	gchar* result = NULL;
	gint indexStart = 0;
	const gchar* _tmp0_ = NULL;
	gint _tmp1_ = 0;
	const gchar* _tmp2_ = NULL;
	const gchar* _tmp3_ = NULL;
	gint _tmp4_ = 0;
	gint _tmp5_ = 0;
	gchar* _tmp6_ = NULL;
#line 94 "/all/Documents/Programming/vala/photostream/src/Windows/LoginWindow.vala"
	g_return_val_if_fail (self != NULL, NULL);
#line 94 "/all/Documents/Programming/vala/photostream/src/Windows/LoginWindow.vala"
	g_return_val_if_fail (uri != NULL, NULL);
#line 96 "/all/Documents/Programming/vala/photostream/src/Windows/LoginWindow.vala"
	_tmp0_ = uri;
#line 96 "/all/Documents/Programming/vala/photostream/src/Windows/LoginWindow.vala"
	_tmp1_ = string_index_of (_tmp0_, "=", 0);
#line 96 "/all/Documents/Programming/vala/photostream/src/Windows/LoginWindow.vala"
	indexStart = _tmp1_ + 1;
#line 97 "/all/Documents/Programming/vala/photostream/src/Windows/LoginWindow.vala"
	_tmp2_ = uri;
#line 97 "/all/Documents/Programming/vala/photostream/src/Windows/LoginWindow.vala"
	_tmp3_ = uri;
#line 97 "/all/Documents/Programming/vala/photostream/src/Windows/LoginWindow.vala"
	_tmp4_ = strlen (_tmp3_);
#line 97 "/all/Documents/Programming/vala/photostream/src/Windows/LoginWindow.vala"
	_tmp5_ = _tmp4_;
#line 97 "/all/Documents/Programming/vala/photostream/src/Windows/LoginWindow.vala"
	_tmp6_ = string_substring (_tmp2_, (glong) indexStart, (glong) (_tmp5_ - indexStart));
#line 97 "/all/Documents/Programming/vala/photostream/src/Windows/LoginWindow.vala"
	result = _tmp6_;
#line 97 "/all/Documents/Programming/vala/photostream/src/Windows/LoginWindow.vala"
	return result;
#line 732 "LoginWindow.c"
}


static Block51Data* block51_data_ref (Block51Data* _data51_) {
#line 100 "/all/Documents/Programming/vala/photostream/src/Windows/LoginWindow.vala"
	g_atomic_int_inc (&_data51_->_ref_count_);
#line 100 "/all/Documents/Programming/vala/photostream/src/Windows/LoginWindow.vala"
	return _data51_;
#line 741 "LoginWindow.c"
}


static void block51_data_unref (void * _userdata_) {
	Block51Data* _data51_;
	_data51_ = (Block51Data*) _userdata_;
#line 100 "/all/Documents/Programming/vala/photostream/src/Windows/LoginWindow.vala"
	if (g_atomic_int_dec_and_test (&_data51_->_ref_count_)) {
#line 750 "LoginWindow.c"
		PhotoStreamLoginWindow* self;
#line 100 "/all/Documents/Programming/vala/photostream/src/Windows/LoginWindow.vala"
		self = _data51_->self;
#line 100 "/all/Documents/Programming/vala/photostream/src/Windows/LoginWindow.vala"
		_g_free0 (_data51_->token);
#line 100 "/all/Documents/Programming/vala/photostream/src/Windows/LoginWindow.vala"
		_g_object_unref0 (self);
#line 100 "/all/Documents/Programming/vala/photostream/src/Windows/LoginWindow.vala"
		g_slice_free (Block51Data, _data51_);
#line 760 "LoginWindow.c"
	}
}


static guint8* string_get_data (const gchar* self, int* result_length1) {
	guint8* result;
	guint8* res = NULL;
	gint res_length1 = 0;
	gint _res_size_ = 0;
	gint _tmp0_ = 0;
	gint _tmp1_ = 0;
	gint _tmp2_ = 0;
	guint8* _tmp3_ = NULL;
	gint _tmp3__length1 = 0;
	guint8* _tmp4_ = NULL;
	gint _tmp4__length1 = 0;
#line 1300 "/usr/share/vala-0.26/vapi/glib-2.0.vapi"
	g_return_val_if_fail (self != NULL, NULL);
#line 1301 "/usr/share/vala-0.26/vapi/glib-2.0.vapi"
	res = (guint8*) self;
#line 1301 "/usr/share/vala-0.26/vapi/glib-2.0.vapi"
	res_length1 = -1;
#line 1301 "/usr/share/vala-0.26/vapi/glib-2.0.vapi"
	_res_size_ = res_length1;
#line 1302 "/usr/share/vala-0.26/vapi/glib-2.0.vapi"
	_tmp0_ = strlen (self);
#line 1302 "/usr/share/vala-0.26/vapi/glib-2.0.vapi"
	_tmp1_ = _tmp0_;
#line 1302 "/usr/share/vala-0.26/vapi/glib-2.0.vapi"
	res_length1 = (gint) _tmp1_;
#line 1302 "/usr/share/vala-0.26/vapi/glib-2.0.vapi"
	_tmp2_ = res_length1;
#line 1303 "/usr/share/vala-0.26/vapi/glib-2.0.vapi"
	_tmp3_ = res;
#line 1303 "/usr/share/vala-0.26/vapi/glib-2.0.vapi"
	_tmp3__length1 = res_length1;
#line 1303 "/usr/share/vala-0.26/vapi/glib-2.0.vapi"
	_tmp4_ = _tmp3_;
#line 1303 "/usr/share/vala-0.26/vapi/glib-2.0.vapi"
	_tmp4__length1 = _tmp3__length1;
#line 1303 "/usr/share/vala-0.26/vapi/glib-2.0.vapi"
	if (result_length1) {
#line 1303 "/usr/share/vala-0.26/vapi/glib-2.0.vapi"
		*result_length1 = _tmp4__length1;
#line 805 "LoginWindow.c"
	}
#line 1303 "/usr/share/vala-0.26/vapi/glib-2.0.vapi"
	result = _tmp4_;
#line 1303 "/usr/share/vala-0.26/vapi/glib-2.0.vapi"
	return result;
#line 811 "LoginWindow.c"
}


static guint8* _vala_array_dup12 (guint8* self, int length) {
#line 105 "/all/Documents/Programming/vala/photostream/src/Windows/LoginWindow.vala"
	return g_memdup (self, length * sizeof (guint8));
#line 818 "LoginWindow.c"
}


static guint8* _vala_array_dup13 (guint8* self, int length) {
#line 111 "/all/Documents/Programming/vala/photostream/src/Windows/LoginWindow.vala"
	return g_memdup (self, length * sizeof (guint8));
#line 825 "LoginWindow.c"
}


static gboolean __lambda6_ (Block51Data* _data51_) {
	PhotoStreamLoginWindow* self;
	gboolean result = FALSE;
#line 124 "/all/Documents/Programming/vala/photostream/src/Windows/LoginWindow.vala"
	self = _data51_->self;
#line 125 "/all/Documents/Programming/vala/photostream/src/Windows/LoginWindow.vala"
	setToken (_data51_->token);
#line 126 "/all/Documents/Programming/vala/photostream/src/Windows/LoginWindow.vala"
	gtk_window_close ((GtkWindow*) self);
#line 127 "/all/Documents/Programming/vala/photostream/src/Windows/LoginWindow.vala"
	result = FALSE;
#line 127 "/all/Documents/Programming/vala/photostream/src/Windows/LoginWindow.vala"
	return result;
#line 842 "LoginWindow.c"
}


static gboolean ___lambda6__gsource_func (gpointer self) {
	gboolean result;
	result = __lambda6_ (self);
#line 124 "/all/Documents/Programming/vala/photostream/src/Windows/LoginWindow.vala"
	return result;
#line 851 "LoginWindow.c"
}


void photo_stream_login_window_confirmToken (PhotoStreamLoginWindow* self, const gchar* uri) {
	Block51Data* _data51_;
	SoupSession* session = NULL;
	SoupSession* _tmp0_ = NULL;
	SoupMessage* message = NULL;
	SoupMessage* _tmp1_ = NULL;
	guint8* requestString = NULL;
	const gchar* _tmp2_ = NULL;
	gchar* _tmp3_ = NULL;
	gchar* _tmp4_ = NULL;
	gchar* _tmp5_ = NULL;
	gchar* _tmp6_ = NULL;
	guint8* _tmp7_ = NULL;
	gint _tmp7__length1 = 0;
	guint8* _tmp8_ = NULL;
	gint _tmp8__length1 = 0;
	guint8* _tmp9_ = NULL;
	gint _tmp9__length1 = 0;
	guint8* _tmp10_ = NULL;
	gint _tmp10__length1 = 0;
	gint requestString_length1 = 0;
	gint _requestString_size_ = 0;
	SoupMessageBody* _tmp11_ = NULL;
	guint8* _tmp12_ = NULL;
	gint _tmp12__length1 = 0;
	GError * _inner_error_ = NULL;
#line 100 "/all/Documents/Programming/vala/photostream/src/Windows/LoginWindow.vala"
	g_return_if_fail (self != NULL);
#line 100 "/all/Documents/Programming/vala/photostream/src/Windows/LoginWindow.vala"
	g_return_if_fail (uri != NULL);
#line 100 "/all/Documents/Programming/vala/photostream/src/Windows/LoginWindow.vala"
	_data51_ = g_slice_new0 (Block51Data);
#line 100 "/all/Documents/Programming/vala/photostream/src/Windows/LoginWindow.vala"
	_data51_->_ref_count_ = 1;
#line 100 "/all/Documents/Programming/vala/photostream/src/Windows/LoginWindow.vala"
	_data51_->self = g_object_ref (self);
#line 102 "/all/Documents/Programming/vala/photostream/src/Windows/LoginWindow.vala"
	_tmp0_ = soup_session_new ();
#line 102 "/all/Documents/Programming/vala/photostream/src/Windows/LoginWindow.vala"
	session = _tmp0_;
#line 103 "/all/Documents/Programming/vala/photostream/src/Windows/LoginWindow.vala"
	_tmp1_ = soup_message_new ("POST", "https://api.instagram.com/oauth/access_token");
#line 103 "/all/Documents/Programming/vala/photostream/src/Windows/LoginWindow.vala"
	message = _tmp1_;
#line 105 "/all/Documents/Programming/vala/photostream/src/Windows/LoginWindow.vala"
	_tmp2_ = uri;
#line 105 "/all/Documents/Programming/vala/photostream/src/Windows/LoginWindow.vala"
	_tmp3_ = photo_stream_login_window_getCode (self, _tmp2_);
#line 105 "/all/Documents/Programming/vala/photostream/src/Windows/LoginWindow.vala"
	_tmp4_ = _tmp3_;
#line 105 "/all/Documents/Programming/vala/photostream/src/Windows/LoginWindow.vala"
	_tmp5_ = g_strconcat ("client_id=" PHOTO_STREAM_APP_CLIENT_ID "&client_secret=" PHOTO_STREAM_APP_CLIENT_SECRET "&grant_type=authorization_code" "&redirect_uri=" PHOTO_STREAM_APP_REDIRECT_URI "&code=", _tmp4_, NULL);
#line 105 "/all/Documents/Programming/vala/photostream/src/Windows/LoginWindow.vala"
	_tmp6_ = _tmp5_;
#line 105 "/all/Documents/Programming/vala/photostream/src/Windows/LoginWindow.vala"
	_tmp7_ = string_get_data (_tmp6_, &_tmp7__length1);
#line 105 "/all/Documents/Programming/vala/photostream/src/Windows/LoginWindow.vala"
	_tmp8_ = _tmp7_;
#line 105 "/all/Documents/Programming/vala/photostream/src/Windows/LoginWindow.vala"
	_tmp8__length1 = _tmp7__length1;
#line 105 "/all/Documents/Programming/vala/photostream/src/Windows/LoginWindow.vala"
	_tmp9_ = (_tmp8_ != NULL) ? _vala_array_dup12 (_tmp8_, _tmp8__length1) : ((gpointer) _tmp8_);
#line 105 "/all/Documents/Programming/vala/photostream/src/Windows/LoginWindow.vala"
	_tmp9__length1 = _tmp8__length1;
#line 105 "/all/Documents/Programming/vala/photostream/src/Windows/LoginWindow.vala"
	_tmp10_ = _tmp9_;
#line 105 "/all/Documents/Programming/vala/photostream/src/Windows/LoginWindow.vala"
	_tmp10__length1 = _tmp9__length1;
#line 105 "/all/Documents/Programming/vala/photostream/src/Windows/LoginWindow.vala"
	_g_free0 (_tmp6_);
#line 105 "/all/Documents/Programming/vala/photostream/src/Windows/LoginWindow.vala"
	_g_free0 (_tmp4_);
#line 105 "/all/Documents/Programming/vala/photostream/src/Windows/LoginWindow.vala"
	requestString = _tmp10_;
#line 105 "/all/Documents/Programming/vala/photostream/src/Windows/LoginWindow.vala"
	requestString_length1 = _tmp10__length1;
#line 105 "/all/Documents/Programming/vala/photostream/src/Windows/LoginWindow.vala"
	_requestString_size_ = requestString_length1;
#line 111 "/all/Documents/Programming/vala/photostream/src/Windows/LoginWindow.vala"
	_tmp11_ = message->request_body;
#line 111 "/all/Documents/Programming/vala/photostream/src/Windows/LoginWindow.vala"
	_tmp12_ = (requestString != NULL) ? _vala_array_dup13 (requestString, requestString_length1) : ((gpointer) requestString);
#line 111 "/all/Documents/Programming/vala/photostream/src/Windows/LoginWindow.vala"
	_tmp12__length1 = requestString_length1;
#line 111 "/all/Documents/Programming/vala/photostream/src/Windows/LoginWindow.vala"
	soup_message_body_append_take (_tmp11_, _tmp12_, (gsize) _tmp12__length1);
#line 112 "/all/Documents/Programming/vala/photostream/src/Windows/LoginWindow.vala"
	soup_session_send_message (session, message);
#line 943 "LoginWindow.c"
	{
		gchar* _tmp13_ = NULL;
		SoupMessageBody* _tmp14_ = NULL;
		guint8* _tmp15_ = NULL;
		gint _tmp15__length1 = 0;
		gchar* _tmp16_ = NULL;
		gchar* _tmp17_ = NULL;
#line 117 "/all/Documents/Programming/vala/photostream/src/Windows/LoginWindow.vala"
		_tmp14_ = message->response_body;
#line 117 "/all/Documents/Programming/vala/photostream/src/Windows/LoginWindow.vala"
		_tmp15_ = _tmp14_->data;
#line 117 "/all/Documents/Programming/vala/photostream/src/Windows/LoginWindow.vala"
		_tmp15__length1 = (gint) _tmp14_->length;
#line 117 "/all/Documents/Programming/vala/photostream/src/Windows/LoginWindow.vala"
		_tmp16_ = parseToken ((const gchar*) _tmp15_, &_inner_error_);
#line 117 "/all/Documents/Programming/vala/photostream/src/Windows/LoginWindow.vala"
		_tmp13_ = _tmp16_;
#line 117 "/all/Documents/Programming/vala/photostream/src/Windows/LoginWindow.vala"
		if (G_UNLIKELY (_inner_error_ != NULL)) {
#line 963 "LoginWindow.c"
			goto __catch67_g_error;
		}
#line 117 "/all/Documents/Programming/vala/photostream/src/Windows/LoginWindow.vala"
		_tmp17_ = _tmp13_;
#line 117 "/all/Documents/Programming/vala/photostream/src/Windows/LoginWindow.vala"
		_tmp13_ = NULL;
#line 117 "/all/Documents/Programming/vala/photostream/src/Windows/LoginWindow.vala"
		_g_free0 (_data51_->token);
#line 117 "/all/Documents/Programming/vala/photostream/src/Windows/LoginWindow.vala"
		_data51_->token = _tmp17_;
#line 115 "/all/Documents/Programming/vala/photostream/src/Windows/LoginWindow.vala"
		_g_free0 (_tmp13_);
#line 976 "LoginWindow.c"
	}
	goto __finally67;
	__catch67_g_error:
	{
		GError* e = NULL;
		const gchar* _tmp18_ = NULL;
#line 115 "/all/Documents/Programming/vala/photostream/src/Windows/LoginWindow.vala"
		e = _inner_error_;
#line 115 "/all/Documents/Programming/vala/photostream/src/Windows/LoginWindow.vala"
		_inner_error_ = NULL;
#line 121 "/all/Documents/Programming/vala/photostream/src/Windows/LoginWindow.vala"
		_tmp18_ = e->message;
#line 121 "/all/Documents/Programming/vala/photostream/src/Windows/LoginWindow.vala"
		g_error ("LoginWindow.vala:121: Something wrong with received token: %s", _tmp18_);
#line 115 "/all/Documents/Programming/vala/photostream/src/Windows/LoginWindow.vala"
		_g_error_free0 (e);
#line 993 "LoginWindow.c"
	}
	__finally67:
#line 115 "/all/Documents/Programming/vala/photostream/src/Windows/LoginWindow.vala"
	if (G_UNLIKELY (_inner_error_ != NULL)) {
#line 115 "/all/Documents/Programming/vala/photostream/src/Windows/LoginWindow.vala"
		requestString = (g_free (requestString), NULL);
#line 115 "/all/Documents/Programming/vala/photostream/src/Windows/LoginWindow.vala"
		_g_object_unref0 (message);
#line 115 "/all/Documents/Programming/vala/photostream/src/Windows/LoginWindow.vala"
		_g_object_unref0 (session);
#line 115 "/all/Documents/Programming/vala/photostream/src/Windows/LoginWindow.vala"
		block51_data_unref (_data51_);
#line 115 "/all/Documents/Programming/vala/photostream/src/Windows/LoginWindow.vala"
		_data51_ = NULL;
#line 115 "/all/Documents/Programming/vala/photostream/src/Windows/LoginWindow.vala"
		g_critical ("file %s: line %d: uncaught error: %s (%s, %d)", __FILE__, __LINE__, _inner_error_->message, g_quark_to_string (_inner_error_->domain), _inner_error_->code);
#line 115 "/all/Documents/Programming/vala/photostream/src/Windows/LoginWindow.vala"
		g_clear_error (&_inner_error_);
#line 115 "/all/Documents/Programming/vala/photostream/src/Windows/LoginWindow.vala"
		return;
#line 1014 "LoginWindow.c"
	}
#line 124 "/all/Documents/Programming/vala/photostream/src/Windows/LoginWindow.vala"
	g_idle_add_full (G_PRIORITY_DEFAULT_IDLE, ___lambda6__gsource_func, block51_data_ref (_data51_), block51_data_unref);
#line 100 "/all/Documents/Programming/vala/photostream/src/Windows/LoginWindow.vala"
	requestString = (g_free (requestString), NULL);
#line 100 "/all/Documents/Programming/vala/photostream/src/Windows/LoginWindow.vala"
	_g_object_unref0 (message);
#line 100 "/all/Documents/Programming/vala/photostream/src/Windows/LoginWindow.vala"
	_g_object_unref0 (session);
#line 100 "/all/Documents/Programming/vala/photostream/src/Windows/LoginWindow.vala"
	block51_data_unref (_data51_);
#line 100 "/all/Documents/Programming/vala/photostream/src/Windows/LoginWindow.vala"
	_data51_ = NULL;
#line 1028 "LoginWindow.c"
}


static void photo_stream_login_window_class_init (PhotoStreamLoginWindowClass * klass) {
#line 4 "/all/Documents/Programming/vala/photostream/src/Windows/LoginWindow.vala"
	photo_stream_login_window_parent_class = g_type_class_peek_parent (klass);
#line 4 "/all/Documents/Programming/vala/photostream/src/Windows/LoginWindow.vala"
	g_type_class_add_private (klass, sizeof (PhotoStreamLoginWindowPrivate));
#line 4 "/all/Documents/Programming/vala/photostream/src/Windows/LoginWindow.vala"
	G_OBJECT_CLASS (klass)->finalize = photo_stream_login_window_finalize;
#line 1039 "LoginWindow.c"
}


static void photo_stream_login_window_instance_init (PhotoStreamLoginWindow * self) {
#line 4 "/all/Documents/Programming/vala/photostream/src/Windows/LoginWindow.vala"
	self->priv = PHOTO_STREAM_LOGIN_WINDOW_GET_PRIVATE (self);
#line 1046 "LoginWindow.c"
}


static void photo_stream_login_window_finalize (GObject* obj) {
	PhotoStreamLoginWindow * self;
#line 4 "/all/Documents/Programming/vala/photostream/src/Windows/LoginWindow.vala"
	self = G_TYPE_CHECK_INSTANCE_CAST (obj, PHOTO_STREAM_TYPE_LOGIN_WINDOW, PhotoStreamLoginWindow);
#line 7 "/all/Documents/Programming/vala/photostream/src/Windows/LoginWindow.vala"
	_g_object_unref0 (self->priv->webView);
#line 16 "/all/Documents/Programming/vala/photostream/src/Windows/LoginWindow.vala"
	_g_free0 (self->priv->HOST);
#line 18 "/all/Documents/Programming/vala/photostream/src/Windows/LoginWindow.vala"
	_g_object_unref0 (self->spinner);
#line 19 "/all/Documents/Programming/vala/photostream/src/Windows/LoginWindow.vala"
	_g_object_unref0 (self->box);
#line 20 "/all/Documents/Programming/vala/photostream/src/Windows/LoginWindow.vala"
	_g_object_unref0 (self->scrolledWindow);
#line 4 "/all/Documents/Programming/vala/photostream/src/Windows/LoginWindow.vala"
	G_OBJECT_CLASS (photo_stream_login_window_parent_class)->finalize (obj);
#line 1066 "LoginWindow.c"
}


GType photo_stream_login_window_get_type (void) {
	static volatile gsize photo_stream_login_window_type_id__volatile = 0;
	if (g_once_init_enter (&photo_stream_login_window_type_id__volatile)) {
		static const GTypeInfo g_define_type_info = { sizeof (PhotoStreamLoginWindowClass), (GBaseInitFunc) NULL, (GBaseFinalizeFunc) NULL, (GClassInitFunc) photo_stream_login_window_class_init, (GClassFinalizeFunc) NULL, NULL, sizeof (PhotoStreamLoginWindow), 0, (GInstanceInitFunc) photo_stream_login_window_instance_init, NULL };
		GType photo_stream_login_window_type_id;
		photo_stream_login_window_type_id = g_type_register_static (gtk_application_window_get_type (), "PhotoStreamLoginWindow", &g_define_type_info, 0);
		g_once_init_leave (&photo_stream_login_window_type_id__volatile, photo_stream_login_window_type_id);
	}
	return photo_stream_login_window_type_id__volatile;
}



